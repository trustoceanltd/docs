请您在进一步了解之前，先阅读我们为您准备的此调用逻辑章节。
我们将通过两个部分来向您介绍如何完成一个 Encryption365 应用的开发。

## 初始化
您需要为每个设备、服务器执行一次这个初始化过程，此过程主要是为了获取调用后续接口中需要的认证参数、产品数据表。
这些初始化参数和产品数据获取成功后，您应该将它们保存在本地数据库或配置文件中，以便于后续接口调用。接下来，我们
来一起看一下初始化过程的调用逻辑：
``` mermaid
graph LR
  A[开始] --> B{注册设备};
  B -->|获取到 client_id,access_token| C[保存认证参数];
  B -->|失败| B;
  C --> D[获取产品列表];
  D --> |成功|E[保存产品数据]; 
  E --> F[完成]
```
通过上述调用流程，您将会从接口获得如下重要参数，您需要将这些参数保存在您的本地数据库：

| 参数名称 | 用途 | 获取途径 |
| -- | -- | -- |
| client_id | API的认证参数 | 由注册设备接口返回 |
| access_token | API的认证参数 | 由注册设备接口返回 |
| pid | 产品编号 | 由产品列表接口返回的数据，`products`对象的子键，如`100`,`108` |

## 创建证书
我们在这里为您介绍创建证书的主要业务逻辑，来帮助您了解证书的签发流程和完成签发的必要条件。
``` mermaid
graph TB
  A[开始] --> B[准备认证参数和产品信息];
  B -->C[调用 创建证书 接口];
  C --> |获取验证信息|D[本地完成域名验证设置];
  D --> |成功|E[调用 查询证书 接口]; 
  E --> |未签发/验证未完成|F[手动检查验证记录];
  F --> |未查询到验证记录|D;
  F --> |有验证记录|Y[调用 重启验证 接口];
  Y --> |间隔2分钟|E;
  E --> |已签发|G[保存证书代码];
  G --> X[完成];
```